# JUST-SHARE

不同设备快速无损共享文件

## 支持终端

|终端|是否支持|项目地址|
|:--|:--|:--|
|mac|?|-|
|linux|o|just-share|
|windows|o|just-share|
|iphone|?|-|
|android|?|-|
|harmonyos|o|just-share|
|openharmony|o|just-share|

* 移动端提供`GUI`界面模式
* 电脑端提供`CLI`命令模式

## 使用说明

接收文件默认软件启动路径`recv`目录下面，如果出现重名文件会被重命名。

#### 操作流程

###### 接收操作流程

1. 接收端选择接收模式

###### 发送操作流程

1. 发送端选择发送模式
2. 发送端选择发送文件
3. 发送端扫描接收终端
4. 发送端选择接收终端

#### CLI说明

`-r/--recv`表示接收，`-s/--send`表示发送，发送后面跟文件列表。也可以不带参数根据提示进行操作。

```
jshare -r
jshare -s file1 file2 file3 ...
```

## 分享协议

#### 协议结构

```
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|    version    |     type      | uint8_t
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|          data_id...           | uint16_t
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|          data_length          | uint16_t
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|          data...              | char*
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
```

#### 协议类型

|协议标识|协议描述|
|--:|:--|
| 1|ACK|
| 2|SYN|
|10|发现广播|
|20|开始发送|
|21|文件数据|
|22|结束发送|
